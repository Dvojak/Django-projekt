{% extends 'base.html' %}
{% load static %}
{% block title %}Detail deskové hry{% endblock %}

{% block content %}
<h2>{{ deskovka.nazev }}</h2>

{% if deskovka.fotografie %}
    <img src="{{ deskovka.fotografie.url }}" alt="{{ deskovka.nazev }}" width="300">
{% endif %}

<ul>
    <li><strong>Alternativní název:</strong> {{ deskovka.alt }}</li>
    <li><strong>Datum vydání:</strong> {{ deskovka.vydani }}</li>
    <li><strong>Vydavatelstvi: </strong> 
    {% for vydavatelstvo in deskovka.vydavatelstvi.all %}
        {{ vydavatelstvo.Jmeno }}{% if not forloop.last %}, {% endif %}
    {% empty %}
        (žádné)
    {% endfor %} </li>
    <li><strong>Tvůrci: </strong> 
    {% for tvurci in deskovka.designer.all %}
        {{ tvurci.Jmeno }} {{ tvurci.Prijmeni }} - ({{ tvurci.role }}) {% if not forloop.last %}, {% endif %}
    {% empty %}
        (žádné)
    {% endfor %} </li>
    <li><strong>Žánry:</strong>
    {% for zanr in deskovka.zanry.all %}
        {{ zanr.nazev }}{% if not forloop.last %}, {% endif %}
    {% empty %}
        (žádné)
    {% endfor %}
    </li>
    <li><strong>Minimální věk:</strong> {{ deskovka.minvek }}</li>
    <li><strong>Délka hry:</strong> {{ deskovka.cas }} minut</li>
    <li><strong>Počet hráčů:</strong> {{ deskovka.min_hracu }}–{{ deskovka.max_hracu }}</li>
    <li><strong>Komplexita:</strong> {{ deskovka.get_komplexita_display }}</li>
    <li><strong>Popis:</strong><br>{{ deskovka.popis|linebreaks }}</li>
</ul>


{% if user.is_authenticated and user.username == 'admin' %}
    <a href="{% url 'deskovka_update' deskovka.pk %}">Upravit</a> |
    <a href="{% url 'deskovka_delete' deskovka.pk %}">Smazat</a>
{% endif %}
<a href="{% url 'deskovka_list' %}">Zpět na seznam</a>
{% endblock %}
